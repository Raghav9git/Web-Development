<!DOCTYPE html>
<html lang="en">
<head>
  <link rel="icon" href="favicon.png" type="image/png">
  <link rel="apple-touch-icon" href="favicon.png">
  <meta name="theme-color" content="#0b2a4a">


<meta charset="UTF-8">
<title>Report Incident | SafeConnect</title>

<!-- Leaflet -->
<link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"/>

<style>
*{
  margin:0;
  padding:0;
  box-sizing:border-box;
  font-family: system-ui, -apple-system, BlinkMacSystemFont, sans-serif;
}

/* ===== SPACE BACKGROUND ===== */
body{
  min-height:100vh;
  background:
    radial-gradient(circle at 20% 20%, #1b2a5a 0%, transparent 40%),
    radial-gradient(circle at 80% 10%, #3b1d6b 0%, transparent 45%),
    linear-gradient(180deg, #060814, #0b1020 60%, #05060f);
  color:#e5e7eb;
}

/* ===== HEADER ===== */
.app-header{
  text-align:center;
  padding:26px 20px 14px;
}
.app-header h1{
  font-size:34px;
  font-weight:800;
  background:linear-gradient(90deg,#7dd3fc,#c084fc);
  -webkit-background-clip:text;
  -webkit-text-fill-color:transparent;
}
.app-header p{
  color:#a5b4fc;
  margin-top:6px;
}

/* ===== NAVBAR ===== */
nav{
  display:flex;
  justify-content:center;
  flex-wrap:wrap;
  gap:22px;
  padding:14px 20px;
  background:rgba(8,12,30,.75);
  border-bottom:1px solid rgba(255,255,255,.08);
}
nav a{
  text-decoration:none;
  color:#dbeafe;
  font-weight:500;
  position:relative;
  padding-bottom:6px;
}
nav a::after{
  content:"";
  position:absolute;
  left:0;
  bottom:0;
  width:0;
  height:2px;
  background:linear-gradient(90deg,#38bdf8,#a78bfa);
  transition:.35s;
}
nav a:hover::after,
nav a.active::after{
  width:100%;
}

/* ===== FIXED NAVBAR ===== */
nav {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  z-index: 1000;
}


/* Offset page content for fixed navbar */
body {
  padding-top: 80px; /* adjust if your navbar is taller */
}



/* ===== PAGE ===== */
.page{
  display:flex;
  justify-content:center;
  padding:40px 20px;
}

/* ===== CARD (NO OVERFLOW HIDDEN) ===== */
.card{
  width:100%;
  max-width:920px;
  position:relative;
  background:rgba(15,23,42,.9);
  border-radius:22px;
  padding:38px 40px;
  border:1px solid rgba(255,255,255,.08);
  overflow: visible; /* CRITICAL */
}

/* ===== TEXT ===== */
.card h2{font-size:28px;color:#e0e7ff}
.card p{color:#a5b4fc;margin:10px 0 28px}

/* ===== FORM ===== */
label{
  display:block;
  margin-top:22px;
  font-weight:600;
  color:#c7d2fe;
}

input, textarea, select{
  width:100%;
  margin-top:10px;
  padding:14px 16px;
  border-radius:14px;
  border:1px solid rgba(255,255,255,.12);
  background:rgba(2,6,23,.9);
  color:#e5e7eb;
  font-size:15px;
  position:relative;
  z-index:2;
}

textarea{min-height:120px}

.row{
  display:flex;
  gap:18px;
  flex-wrap:wrap;
}
.row > div{flex:1}

/* ===== MAP ===== */
#map{
  height:320px;
  margin-top:14px;
  border-radius:18px;
  border:1px solid rgba(255,255,255,.15);
  background:#000;
  position:relative;
  z-index:1;
}

.address{
  margin-top:10px;
  color:#c7d2fe;
  font-size:14px;
}

/* ===== BUTTONS ===== */
button{
  margin-top:20px;
  padding:14px 24px;
  border:none;
  border-radius:16px;
  background:linear-gradient(135deg,#6366f1,#8b5cf6);
  color:#fff;
  font-weight:600;
  cursor:pointer;
  transition:.3s;
  position:relative;
  z-index:2;
}
button:hover{
  transform:translateY(-2px) scale(1.05);
  box-shadow:0 0 25px rgba(99,102,241,.8);
}

.actions{
  display:flex;
  gap:16px;
  margin-top:26px;
  flex-wrap:wrap;
}

/* ===== MEMBER ===== */
.member-row{
  display:flex;
  justify-content:space-between;
  align-items:center;
  margin:22px 0;
}
.member-text{
  color:#e0e7ff;
  font-weight:600;
}

/* ===== BENEFITS ===== */
details{
  margin-top:28px;
  border-radius:18px;
  padding:18px;
  background:rgba(2,6,23,.75);
  border:1px solid rgba(255,255,255,.08);
  position:relative;
  z-index:2;
}
details summary{
  cursor:pointer;
  font-weight:600;
  color:#e0e7ff;
}
details ul{
  margin-top:14px;
  padding-left:22px;
  color:#c7d2fe;
}
details li{margin-bottom:10px}

/* ===== FIX DATE PICKER VISIBILITY ===== */
input[type="date"] {
  position: relative;
  z-index: 5;
}

/* Chrome / Edge calendar icon */
input[type="date"]::-webkit-calendar-picker-indicator {
  filter: invert(1);
  cursor: pointer;
  z-index: 6;
}

/* Ensure popup is clickable */
input[type="date"] {
  pointer-events: auto;
}

/* ===== CHATBOT FLOATING BUTTON (SMOOTH VERSION) ===== */
#chatbot-fab{
  position:fixed;
  right:22px;
  bottom:22px;
  padding:14px 22px;
  border-radius:30px;
  background:linear-gradient(135deg,#6366f1,#8b5cf6);
  color:white;
  font-weight:700;
  font-size:15px;
  cursor:pointer;
  z-index:9999;

  /* smoothness magic */
  transition:
    transform 0.45s cubic-bezier(.22,.61,.36,1),
    box-shadow 0.45s cubic-bezier(.22,.61,.36,1),
    filter 0.45s cubic-bezier(.22,.61,.36,1);

  box-shadow:0 10px 30px rgba(99,102,241,.45);
  will-change: transform, box-shadow;
}

/* Speech bubble tail */
#chatbot-fab::after{
  content:"";
  position:absolute;
  right:18px;
  bottom:-8px;
  width:0;
  height:0;
  border-left:8px solid transparent;
  border-right:8px solid transparent;
  border-top:10px solid #7c3aed;
  transition: transform 0.45s cubic-bezier(.22,.61,.36,1);
}

/* ===== SMOOTH HOVER ===== */
#chatbot-fab:hover{
  transform: translateY(-3px) scale(1.045);
  box-shadow:0 20px 45px rgba(139,92,246,.9);
  filter:brightness(1.08);
}

#chatbot-fab:hover::after{
  transform: translateY(2px);
}


/* ===== CHATBOT PANEL ===== */
#chatbot{
  position:fixed;
  right:22px;
  bottom:90px;
  width:320px;
  height:420px;
  background:rgba(15,23,42,.95);
  border-radius:18px;
  border:1px solid rgba(255,255,255,.15);
  display:none;
  flex-direction:column;
  z-index:9999;
  overflow:hidden;
}

/* Header */
#chatbot-header{
  padding:12px 14px;
  display:flex;
  justify-content:space-between;
  align-items:center;
  font-weight:600;
  background:linear-gradient(135deg,#6366f1,#8b5cf6);
}
#chatbot-header button{
  background:none;
  border:none;
  color:white;
  font-size:16px;
  cursor:pointer;
}

/* Messages */
#chatbot-messages{
  flex:1;
  padding:12px;
  overflow-y:auto;
  font-size:14px;
}
.msg{
  margin-bottom:10px;
  line-height:1.4;
}
.user{
  text-align:right;
  color:#93c5fd;
}
.bot{
  text-align:left;
  color:#e5e7eb;
}

/* CHATBOT FLOAT BUTTON HOVER ANIMATION */
.chat-toggle {
  position: fixed;
  right: 20px;
  bottom: 20px;
  background: var(--glow);
  color: #000;
  padding: 14px 20px;
  border-radius: 999px;
  cursor: pointer;
  font-weight: 600;

  /* Smooth animation base */
  transition:
    transform 0.35s ease,
    box-shadow 0.35s ease,
    background 0.35s ease;
}

/* Hover effect */
.chat-toggle:hover {
  transform: translateY(-4px) scale(1.05);
  box-shadow:
    0 0 15px rgba(124,108,255,0.6),
    0 0 35px rgba(124,108,255,0.4),
    0 0 60px rgba(124,108,255,0.2);
}

/* Click feedback */
.chat-toggle:active {
  transform: scale(0.96);
}

/* ===== REPORT CARD APPEAR ANIMATION ===== */
@keyframes slideUpFade {
  0% {
    opacity: 0;
    transform: translateY(60px);
  }
  100% {
    opacity: 1;
    transform: translateY(0);
  }
}

/* Apply animation to report card */
.card {
  animation: slideUpFade 0.9s cubic-bezier(.22,.61,.36,1) both;
  animation-delay: 0.15s;
}

nav {
  visibility:visible;
}

nav[data-auth="pending"] {
  display: none !important;
}

/* ===== SPACE FILE UPLOAD ===== */
.space-upload{
  position: relative;
  margin: 18px 0;
}

.space-upload label{
  display: block;
  padding: 16px 22px;
  border-radius: 18px;
  cursor: pointer;
  font-size: 15px;
  font-weight: 500;
  color: #e6e8ff;

  background:
    linear-gradient(135deg, #0b1c3d, #1a2a6c 45%, #2b1055);
  border: 1px solid rgba(160,140,255,.35);

  box-shadow:
    inset 0 0 18px rgba(120,100,255,.25),
    0 0 22px rgba(120,100,255,.18);

  transition: all .35s ease;
}

.space-upload label:hover{
  transform: translateY(-2px) scale(1.01);
  box-shadow:
    inset 0 0 25px rgba(160,140,255,.35),
    0 0 35px rgba(160,140,255,.35);
}

/* Hide default ugly input */
.space-upload input[type="file"]{
  display: none;
}

/* Uploaded feedback glow */
.space-upload input[type="file"]:valid + label{
  border-color: #7c7cff;
  box-shadow:
    inset 0 0 28px rgba(160,140,255,.45),
    0 0 40px rgba(160,140,255,.4);
}

/* Optional star shimmer */
.space-upload label::after{
  content:"";
  position:absolute;
  inset:0;
  border-radius:18px;
  background:
    radial-gradient(circle at 20% 30%, rgba(255,255,255,.18), transparent 40%),
    radial-gradient(circle at 80% 70%, rgba(255,255,255,.12), transparent 45%);
  opacity:.5;
  pointer-events:none;
}


</style>
</head>
        

<body>

<div class="app-header">
  <h1>SafeNet</h1>
  <p>Safety & community-driven reporting</p>
</div>

<nav>

  <a id="nav-report" class="active" href="report.html">Report</a>
  <a id="nav-home" href="home.html">Home</a>
  <a id="nav-profile" href="profile.html">Profile</a>
  <a id="nav-settings" href="settings.html">Settings</a>
  <a id="nav-analytics" href="analytics.html">Analytics</a>
  <a id="nav-safety" href="your safety.html">Your Safety</a>
  <a id="nav-help" href="want to help.html">Want To Help?</a>
  <a id="nav-community" href="community response.html">Community Response</a>
  <a id="nav-services" href="services.html">Services</a>
  <a id="nav-incidents" href="view-incidents.html">View Incidents</a>
</nav>

<div class="page">
<div class="card">

<h2>What Happened? Report an Incident</h2>
<p>All reports are confidential and protected.</p>

<label>Describe the incident</label>
<textarea id="desc"></textarea>

<label>Type of incident</label>
<select id="incidentType">
  <option>Earthquake</option>
  <option>Flood</option>
  <option>Fire</option>
  <option>Cyclone</option>
  <option>Drought</option>
  <option>Landslide</option>
  <option>Vehicle Accident</option>
  <option>Industrial Accident</option>
  <option>non-emergency crisis</option>
  <option>Other</option>

</select>

<label>Date of incident</label>
<input type="date" id="incidentDate">

<label>Time of incident</label>
<div class="row">
  <select id="hour">
    <option disabled selected>Hr</option>
    <option>1</option>
    <option>2</option>
    <option>3</option>
    <option>4</option>
    <option>5</option>
    <option>6</option>
    <option>7</option>
    <option>8</option>
    <option>9</option>
    <option>10</option>
    <option>11</option>
    <option>12</option>
  </select>
  <select id="minute">
    <option disabled selected>Min</option>
    <option>00 - 05</option>
    <option>05 - 10</option>
    <option>10 - 15</option>
    <option>15 - 20</option>
    <option>20 - 25</option>
    <option>25 - 30</option>
    <option>30 - 35</option>
    <option>35 - 40</option>
    <option>40 - 45</option>
    <option>45 - 50</option>
    <option>50 - 55</option>
    <option>55 - 59</option>
  </select>
  <select id="ampm">
    <option>AM</option><option>PM</option>
  </select>
  <label>Severity of accident</label>
  <select id="severity">
    <option>Low</option>
    <option>Moderate</option>
    <option>High</option>
  </select>
</div>

<label>Select location of incident</label>
<div id="map"></div>
<div class="address" id="addressText">Click on map to select location</div>

<div class="actions">
  <div class="space-upload">
  <label for="photoInput">ЁЯУ╖ Upload Photo</label>
  <input type="file" id="photoInput" accept="image/*">
</div>

<div class="space-upload">
  <label for="videoInput">ЁЯОе Upload Video</label>
  <input type="file" id="videoInput" accept="video/*">
</div>

</div>

<button id="submitReportBtn">Submit Report</button>


<div class="member-row">
  <div class="member-text">Tell us who you are, become a member</div>
  <button id = "loginBtn" onclick="window.location.href='home.html'">Log in</button>
</div>

<details>
  <summary>Benefits of becoming a member</summary>
  <ul>
    <li>Track reported incidents</li>
    <li>Receive safety alerts</li>
    <li>Faster authority response</li>
    <li>Volunteer safely</li>
    <li>Anonymous reporting</li>
  </ul>
</details>

</div>
</div>

<!-- Leaflet JS -->
<script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
<!--
<script>
const lang = localStorage.getItem("lang") || "en";

/* ===== TRANSLATIONS ===== */
const T = {
  en:{
    tagline:"Safety & community-driven reporting",
    title:"What Happened? Report an Incident",
    subtitle:"All reports are confidential and protected.",
    nav:["Report","Home","Profile","Settings","Map","Analytics","Your Safety","General Info","Want To Help?","Community Response","Services","Incidents"],
    desc:"Describe the incident",
    type:"Type of incident",
    types:["Earthquake","Flood","Fire","Cyclone","Drought","Landslide","Vehicle Accident","Industrial Accident","Other"],
    date:"Date of incident",
    time:"Time of incident",
    map:"Select location of incident",
    uploadPhoto:"Upload Photo",
    uploadVideo:"Upload Video",
    submit:"Submit Report",
    member:"Tell us who you are, become a member",
    login:"Log in",
    benefitsTitle:"Benefits of becoming a member",
    benefits:["Track reported incidents","Receive safety alerts","Faster authority response","Volunteer safely","Anonymous reporting"]
  },
  hi:{
    tagline:"рд╕реБрд░рдХреНрд╖рд╛ рдФрд░ рд╕рдореБрджрд╛рдп рдЖрдзрд╛рд░рд┐рдд рд░рд┐рдкреЛрд░реНрдЯрд┐рдВрдЧ",
    title:"рдХреНрдпрд╛ рд╣реБрдЖ? рдШрдЯрдирд╛ рдХреА рд░рд┐рдкреЛрд░реНрдЯ рдХрд░реЗрдВ",
    subtitle:"рд╕рднреА рд░рд┐рдкреЛрд░реНрдЯ рдЧреЛрдкрдиреАрдп рдФрд░ рд╕реБрд░рдХреНрд╖рд┐рдд рд╣реИрдВред",
    nav:["рд░рд┐рдкреЛрд░реНрдЯ","рд╣реЛрдо","рдкреНрд░реЛрдлрд╝рд╛рдЗрд▓","рд╕реЗрдЯрд┐рдВрдЧреНрд╕","рдорд╛рдирдЪрд┐рддреНрд░","рд╡рд┐рд╢реНрд▓реЗрд╖рдг","рдЖрдкрдХреА рд╕реБрд░рдХреНрд╖рд╛","рд╕рд╛рдорд╛рдиреНрдп рдЬрд╛рдирдХрд╛рд░реА","рдорджрдж рдХрд░реЗрдВ?","рд╕рдореБрджрд╛рдп рдкреНрд░рддрд┐рдХреНрд░рд┐рдпрд╛","рд╕реЗрд╡рд╛рдПрдВ","рдШрдЯрдирд╛рдПрдВ"],
    desc:"рдШрдЯрдирд╛ рдХрд╛ рд╡рд┐рд╡рд░рдг",
    type:"рдШрдЯрдирд╛ рдХрд╛ рдкреНрд░рдХрд╛рд░",
    types:["рднреВрдХрдВрдк","рдмрд╛рдврд╝","рдЖрдЧ","рдЪрдХреНрд░рд╡рд╛рдд","рд╕реВрдЦрд╛","рднреВрд╕реНрдЦрд▓рди","рд╡рд╛рд╣рди рджреБрд░реНрдШрдЯрдирд╛","рдФрджреНрдпреЛрдЧрд┐рдХ рджреБрд░реНрдШрдЯрдирд╛","рдЕрдиреНрдп"],
    date:"рдШрдЯрдирд╛ рдХреА рддрд╛рд░реАрдЦ",
    time:"рдШрдЯрдирд╛ рдХрд╛ рд╕рдордп",
    map:"рдШрдЯрдирд╛ рдХрд╛ рд╕реНрдерд╛рди рдЪреБрдиреЗрдВ",
    uploadPhoto:"рдлрд╝реЛрдЯреЛ рдЕрдкрд▓реЛрдб рдХрд░реЗрдВ",
    uploadVideo:"рд╡реАрдбрд┐рдпреЛ рдЕрдкрд▓реЛрдб рдХрд░реЗрдВ",
    submit:"рд░рд┐рдкреЛрд░реНрдЯ рд╕рдмрдорд┐рдЯ рдХрд░реЗрдВ",
    member:"рдЕрдкрдиреА рдкрд╣рдЪрд╛рди рдмрддрд╛рдПрдВ, рд╕рджрд╕реНрдп рдмрдиреЗрдВ",
    login:"рд▓реЙрдЧ рдЗрди",
    benefitsTitle:"рд╕рджрд╕реНрдп рдмрдирдиреЗ рдХреЗ рд▓рд╛рдн",
    benefits:["рд░рд┐рдкреЛрд░реНрдЯ рд╕реНрдерд┐рддрд┐ рджреЗрдЦреЗрдВ","рд╕реБрд░рдХреНрд╖рд╛ рдЕрд▓рд░реНрдЯ","рддреЗрдЬрд╝ рдкреНрд░рддрд┐рдХреНрд░рд┐рдпрд╛","рд╕реНрд╡рдпрдВрд╕реЗрд╡рдХ рдмрдиреЗрдВ","рдЧреБрдордирд╛рдо рд░рд┐рдкреЛрд░реНрдЯ"]
  },
  mr:{
    tagline:"рд╕реБрд░рдХреНрд╖рд╛ рдЖрдгрд┐ рд╕рдореБрджрд╛рдп рдЖрдзрд╛рд░рд┐рдд рдЕрд╣рд╡рд╛рд▓",
    title:"рдХрд╛рдп рдШрдбрд▓рдВ? рдШрдЯрдирд╛ рдиреЛрдВрджрд╡рд╛",
    subtitle:"рд╕рд░реНрд╡ рдЕрд╣рд╡рд╛рд▓ рдЧреЛрдкрдиреАрдп рд╡ рд╕реБрд░рдХреНрд╖рд┐рдд рдЖрд╣реЗрдд.",
    nav:["рдЕрд╣рд╡рд╛рд▓","рдореБрдЦреНрдп","рдкреНрд░реЛрдлрд╛рдЗрд▓","рд╕реЗрдЯрд┐рдВрдЧреНрдЬ","рдирдХрд╛рд╢рд╛","рд╡рд┐рд╢реНрд▓реЗрд╖рдг","рддреБрдордЪреА рд╕реБрд░рдХреНрд╖рд╛","рд╕рд╛рдорд╛рдиреНрдп рдорд╛рд╣рд┐рддреА","рдорджрдд рдХрд░рд╛рдпрдЪреА?","рд╕рдореБрджрд╛рдп рдкреНрд░рддрд┐рд╕рд╛рдж","рд╕реЗрд╡рд╛","рдШрдЯрдирд╛"],
    desc:"рдШрдЯрдиреЗрдЪреЗ рд╡рд░реНрдгрди",
    type:"рдШрдЯрдиреЗрдЪрд╛ рдкреНрд░рдХрд╛рд░",
    types:["рднреВрдХрдВрдк","рдкреВрд░","рдЖрдЧ","рдЪрдХреНрд░реАрд╡рд╛рджрд│","рджреБрд╖реНрдХрд╛рд│","рднреВрд╕реНрдЦрд▓рди","рд╡рд╛рд╣рди рдЕрдкрдШрд╛рдд","рдФрджреНрдпреЛрдЧрд┐рдХ рдЕрдкрдШрд╛рдд","рдЗрддрд░"],
    date:"рдШрдЯрдиреЗрдЪреА рддрд╛рд░реАрдЦ",
    time:"рдШрдЯрдиреЗрдЪреА рд╡реЗрд│",
    map:"рдШрдЯрдиреЗрдЪреЗ рд╕реНрдерд╛рди рдирд┐рд╡рдбрд╛",
    uploadPhoto:"рдлреЛрдЯреЛ рдЕрдкрд▓реЛрдб рдХрд░рд╛",
    uploadVideo:"рд╡реНрд╣рд┐рдбрд┐рдУ рдЕрдкрд▓реЛрдб рдХрд░рд╛",
    submit:"рдЕрд╣рд╡рд╛рд▓ рд╕рдмрдорд┐рдЯ рдХрд░рд╛",
    member:"рдЖрдкрд▓реА рдУрд│рдЦ рджреНрдпрд╛, рд╕рджрд╕реНрдп рдмрдирд╛",
    login:"рд▓реЙрдЧ рдЗрди",
    benefitsTitle:"рд╕рджрд╕реНрдп рд╣реЛрдгреНрдпрд╛рдЪреЗ рдлрд╛рдпрджреЗ",
    benefits:["рдЕрд╣рд╡рд╛рд▓ рд╕реНрдерд┐рддреА","рд╕реБрд░рдХреНрд╖рд╛ рд╕реВрдЪрдирд╛","рдЬрд▓рдж рдкреНрд░рддрд┐рд╕рд╛рдж","рд╕реНрд╡рдпрдВрд╕реЗрд╡рдХ рд╡реНрд╣рд╛","рдЧреЛрдкрдиреАрдп рдЕрд╣рд╡рд╛рд▓"]
  },
  bn:{tagline:"ржирж┐рж░рж╛ржкрждрзНрждрж╛ ржУ рж╕ржорзНржкрзНрж░ржжрж╛ржпрж╝ ржнрж┐рждрзНрждрж┐ржХ рж░рж┐ржкрзЛрж░рзНржЯрж┐ржВ",title:"ржХрж┐ ржШржЯрзЗржЫрзЗ? ржШржЯржирж╛ рж░рж┐ржкрзЛрж░рзНржЯ ржХрж░рзБржи",subtitle:"рж╕ржм рж░рж┐ржкрзЛрж░рзНржЯ ржЧрзЛржкржи рж░рж╛ржЦрж╛ рж╣ржпрж╝ред",nav:["рж░рж┐ржкрзЛрж░рзНржЯ","рж╣рзЛржо","ржкрзНрж░рзЛржлрж╛ржЗрж▓","рж╕рзЗржЯрж┐ржВрж╕","ржорж╛ржиржЪрж┐рждрзНрж░","ржмрж┐рж╢рзНрж▓рзЗрж╖ржг","ржЖржкржирж╛рж░ ржирж┐рж░рж╛ржкрждрзНрждрж╛","рж╕рж╛ржзрж╛рж░ржг рждржерзНржп","рж╕рж╛рж╣рж╛ржпрзНржп ржХрж░ржмрзЗржи?","рж╕ржорзНржкрзНрж░ржжрж╛ржпрж╝ ржкрзНрж░рждрж┐ржХрзНрж░рж┐ржпрж╝рж╛","ржкрж░рж┐рж╖рзЗржмрж╛","ржШржЯржирж╛"],desc:"ржШржЯржирж╛рж░ ржмрж┐ржмрж░ржг",type:"ржШржЯржирж╛рж░ ржзрж░ржи",types:["ржнрзВржорж┐ржХржорзНржк","ржмржирзНржпрж╛","ржЖржЧрзБржи","ржШрзВрж░рзНржгрж┐ржЭржбрж╝","ржЦрж░рж╛","ржнрзВржорж┐ржзрж╕","ржпрж╛ржи ржжрзБрж░рзНржШржЯржирж╛","рж╢рж┐рж▓рзНржк ржжрзБрж░рзНржШржЯржирж╛","ржЕржирзНржпрж╛ржирзНржп"],date:"ржШржЯржирж╛рж░ рждрж╛рж░рж┐ржЦ",time:"ржШржЯржирж╛рж░ рж╕ржоржпрж╝",map:"ржШржЯржирж╛рж░ рж╕рзНржерж╛ржи ржирж┐рж░рзНржмрж╛ржЪржи ржХрж░рзБржи",uploadPhoto:"ржЫржмрж┐ ржЖржкрж▓рзЛржб ржХрж░рзБржи",uploadVideo:"ржнрж┐ржбрж┐ржУ ржЖржкрж▓рзЛржб ржХрж░рзБржи",submit:"рж░рж┐ржкрзЛрж░рзНржЯ ржЬржорж╛ ржжрж┐ржи",member:"ржЖржкржирж╛рж░ ржкрж░рж┐ржЪржпрж╝ ржжрж┐ржи, рж╕ржжрж╕рзНржп рж╣ржи",login:"рж▓ржЧржЗржи",benefitsTitle:"рж╕ржжрж╕рзНржп рж╣ржУржпрж╝рж╛рж░ рж╕рзБржмрж┐ржзрж╛",benefits:["рж░рж┐ржкрзЛрж░рзНржЯ ржЯрзНрж░рзНржпрж╛ржХ ржХрж░рзБржи","ржирж┐рж░рж╛ржкрждрзНрждрж╛ рж╕рждрж░рзНржХрждрж╛","ржжрзНрж░рзБржд ржкрзНрж░рждрж┐ржХрзНрж░рж┐ржпрж╝рж╛","рж╕рзНржмрзЗржЪрзНржЫрж╛рж╕рзЗржмржХ рж╣ржи","ржЧрзЛржкржи рж░рж┐ржкрзЛрж░рзНржЯ"]},
  ta:{tagline:"рокро╛родрпБроХро╛рокрпНрокрпБ рооро▒рпНро▒рпБроорпН роЪроорпВроХ роЕро▒ро┐роХрпНроХрпИ",title:"роОройрпНрой роироЯроирпНродродрпБ? роЪроорпНрокро╡родрпНродрпИ рокродро┐ро╡рпБ роЪрпЖропрпНропро╡рпБроорпН",subtitle:"роЕройрпИродрпНродрпБ роЕро▒ро┐роХрпНроХрпИроХро│рпБроорпН ро░роХроЪро┐ропрооро╛ройро╡рпИ.",nav:["роЕро▒ро┐роХрпНроХрпИ","роорпБроХрокрпНрокрпБ","роЪрпБропро╡ро┐ро╡ро░роорпН","роЕроорпИрокрпНрокрпБроХро│рпН","ро╡ро░рпИрокроЯроорпН","рокроХрпБрокрпНрокро╛ропрпНро╡рпБ","роЙроЩрпНроХро│рпН рокро╛родрпБроХро╛рокрпНрокрпБ","рокрпЖро╛родрпБ родроХро╡ро▓рпН","роЙродро╡ ро╡ро┐ро░рпБроорпНрокрпБроХро┐ро▒рпАро░рпНроХро│ро╛?","роЪроорпВроХ рокродро┐ро▓рпН","роЪрпЗро╡рпИроХро│рпН","роЪроорпНрокро╡роЩрпНроХро│рпН"],desc:"роЪроорпНрокро╡ ро╡ро┐ро╡ро░роорпН",type:"роЪроорпНрокро╡ ро╡роХрпИ",types:["роиро┐ро▓роироЯрпБроХрпНроХроорпН","ро╡рпЖро│рпНро│роорпН","родрпА","роЪрпБро┤ро▒рпНроЪро┐","ро╡ро▒роЯрпНроЪро┐","роорогрпН роЪро░ро┐ро╡рпБ","ро╡ро╛роХрой ро╡ро┐рокродрпНродрпБ","родрпКро┤ро┐ро▓рпН ро╡ро┐рокродрпНродрпБ","рооро▒рпНро▒ро╡рпИ"],date:"роЪроорпНрокро╡ родрпЗродро┐",time:"роЪроорпНрокро╡ роирпЗро░роорпН",map:"роЗроЯродрпНродрпИ родрпЗро░рпНро╡рпБ роЪрпЖропрпНроХ",uploadPhoto:"рокрпБроХрпИрокрпНрокроЯроорпН рокродро┐ро╡рпЗро▒рпНро▒рпБ",uploadVideo:"ро╡рпАроЯро┐ропрпЛ рокродро┐ро╡рпЗро▒рпНро▒рпБ",submit:"роЪрооро░рпНрокрпНрокро┐роХрпНроХро╡рпБроорпН",member:"роЙроЩрпНроХро│рпИ роЕро▒ро┐роорпБроХрокрпНрокроЯрпБродрпНродрпБроЩрпНроХро│рпН, роЙро▒рпБрокрпНрокро┐ройро░ро╛роХрпБроЩрпНроХро│рпН",login:"роЙро│рпНроирпБро┤рпИ",benefitsTitle:"роЙро▒рпБрокрпНрокро┐ройро░рпН роиройрпНроорпИроХро│рпН",benefits:["роЕро▒ро┐роХрпНроХрпИроХро│рпН роХрогрпНроХро╛рогро┐рокрпНрокрпБ","рокро╛родрпБроХро╛рокрпНрокрпБ роОроЪрпНроЪро░ро┐роХрпНроХрпИ","ро╡ро┐ро░рпИро╡рпБ рокродро┐ро▓рпН","родройрпНройро╛ро░рпНро╡роорпН","роЕроЯрпИропро╛ро│рооро▒рпНро▒ роЕро▒ро┐роХрпНроХрпИ"]},
  te:{tagline:"р░нр░жр▒Нр░░р░д р░ор░░р░┐р░пр▒Б р░╕р░ор▒Бр░жр░╛р░п р░ир░┐р░╡р▒Зр░жр░┐р░Хр░▓р▒Б",title:"р░Пр░ор▒Ир░Вр░жр░┐? р░Шр░Яр░ир░ир▒Б р░ир░┐р░╡р▒Зр░жр░┐р░Вр░Ър░Вр░бр░┐",subtitle:"р░Ер░ир▒Нр░ир░┐ р░ир░┐р░╡р▒Зр░жр░┐р░Хр░▓р▒Б р░Чр▒Лр░кр▒Нр░пр░Вр░Чр░╛ р░Йр░Вр░Яр░╛р░пр░┐.",nav:["р░ир░┐р░╡р▒Зр░жр░┐р░Х","р░╣р▒Лр░ор▒Н","р░кр▒Нр░░р▒Кр░лр▒Ир░▓р▒Н","р░╕р▒Жр░Яр▒Нр░Яр░┐р░Вр░Чр▒Нр░╕р▒Н","р░ор▒Нр░пр░╛р░кр▒Н","р░╡р░┐р░╢р▒Нр░▓р▒Зр░╖р░г","р░ор▒А р░нр░жр▒Нр░░р░д","р░╕р░╛р░зр░╛р░░р░г р░╕р░ор░╛р░Ър░╛р░░р░В","р░╕р░╣р░╛р░пр░В р░Ър▒Зр░пр░╛р░▓р░╛?","р░╕р░ор▒Бр░жр░╛р░п р░╕р▒Нр░кр░Вр░жр░и","р░╕р▒Зр░╡р░▓р▒Б","р░Шр░Яр░ир░▓р▒Б"],desc:"р░Шр░Яр░и р░╡р░┐р░╡р░░р░г",type:"р░Шр░Яр░и р░░р░Хр░В",types:["р░нр▒Вр░Хр░Вр░кр░В","р░╡р░░р░ж","р░Ер░Чр▒Нр░ир░┐","р░Ър░Хр▒Нр░░р░╡р░╛р░др░В","р░╡р░░р▒Нр░╖р░╛р░нр░╛р░╡р░В","р░нр▒Вр░╕р▒Нр░Хр░▓р░ир░В","р░╡р░╛р░╣р░и р░кр▒Нр░░р░ор░╛р░жр░В","р░кр░░р░┐р░╢р▒Нр░░р░о р░кр▒Нр░░р░ор░╛р░жр░В","р░Зр░др░░"],date:"р░Шр░Яр░и р░др▒Зр░жр▒А",time:"р░Шр░Яр░и р░╕р░ор░пр░В",map:"р░╕р▒Нр░ер░▓р░╛р░ир▒Нр░ир░┐ р░Ор░Вр░Ър▒Бр░Хр▒Лр░Вр░бр░┐",uploadPhoto:"р░лр▒Лр░Яр▒Л р░Ер░кр▒НтАМр░▓р▒Лр░бр▒Н",uploadVideo:"р░╡р▒Ар░бр░┐р░пр▒Л р░Ер░кр▒НтАМр░▓р▒Лр░бр▒Н",submit:"р░╕р░ор░░р▒Нр░кр░┐р░Вр░Ър░Вр░бр░┐",member:"р░ор▒А р░╡р░┐р░╡р░░р░╛р░▓р▒Б р░Ър▒Жр░кр▒Нр░кр░Вр░бр░┐, р░╕р░нр▒Нр░пр▒Бр░бр░╡р░Вр░бр░┐",login:"р░▓р░╛р░Чр░┐р░ир▒Н",benefitsTitle:"р░╕р░нр▒Нр░пр░др▒Нр░╡ р░кр▒Нр░░р░пр▒Лр░Ьр░ир░╛р░▓р▒Б",benefits:["р░ир░┐р░╡р▒Зр░жр░┐р░Х р░Яр▒Нр░░р░╛р░Хр░┐р░Вр░Чр▒Н","р░нр░жр▒Нр░░р░д р░Ер░▓р░░р▒Нр░Яр▒Н","р░╡р▒Зр░Чр░╡р░Вр░др░ор▒Ир░и р░╕р▒Нр░кр░Вр░жр░и","р░╕р▒Нр░╡р░Ър▒Нр░Ыр░Вр░ж р░╕р▒Зр░╡","р░Чр▒Лр░кр▒Нр░п р░ир░┐р░╡р▒Зр░жр░┐р░Х"]},
  ml:{tagline:"р┤╕р╡Бр┤░р┤Хр╡Нр┤╖р┤пр╡Бр┤В р┤╕р┤ор╡Вр┤╣ р┤▒р┤┐р┤кр╡Нр┤кр╡Лр╡╝р┤Яр╡Нр┤Яр┤┐р┤Вр┤Чр╡Бр┤В",title:"р┤Ор┤ир╡Нр┤др┤╛р┤гр╡Н р┤╕р┤Вр┤нр┤╡р┤┐р┤Ър╡Нр┤Ър┤др╡Н? р┤▒р┤┐р┤кр╡Нр┤кр╡Лр╡╝р┤Яр╡Нр┤Яр╡Н р┤Ър╡Жр┤пр╡Нр┤пр╡Бр┤Х",subtitle:"р┤Ор┤▓р╡Нр┤▓р┤╛ р┤▒р┤┐р┤кр╡Нр┤кр╡Лр╡╝р┤Яр╡Нр┤Яр╡Бр┤Хр┤│р╡Бр┤В р┤░р┤╣р┤╕р╡Нр┤пр┤ор┤╛р┤гр╡Н.",nav:["р┤▒р┤┐р┤кр╡Нр┤кр╡Лр╡╝р┤Яр╡Нр┤Яр╡Н","р┤╣р╡Лр┤В","р┤кр╡Нр┤░р╡Кр┤лр╡Ир╡╜","р┤╕р╡Жр┤▒р╡Нр┤▒р┤┐р┤Вр┤Чр╡Нр┤╕р╡Н","р┤ор┤╛р┤кр╡Нр┤кр╡Н","р┤╡р┤┐р┤╢р┤Хр┤▓р┤ир┤В","р┤ир┤┐р┤Щр╡Нр┤Щр┤│р╡Бр┤Яр╡Ж р┤╕р╡Бр┤░р┤Хр╡Нр┤╖","р┤кр╡Кр┤др╡Б р┤╡р┤┐р┤╡р┤░р┤В","р┤╕р┤╣р┤╛р┤пр┤┐р┤Хр╡Нр┤Хр┤гр╡Л?","р┤╕р┤ор╡Вр┤╣ р┤кр╡Нр┤░р┤др┤┐р┤Хр┤░р┤гр┤В","р┤╕р╡Зр┤╡р┤ир┤Щр╡Нр┤Щр╡╛","р┤╕р┤Вр┤нр┤╡р┤Щр╡Нр┤Щр╡╛"],desc:"р┤╕р┤Вр┤нр┤╡ р┤╡р┤┐р┤╡р┤░р┤гр┤В",type:"р┤╕р┤Вр┤нр┤╡ р┤др┤░р┤В",types:["р┤нр╡Вр┤Хр┤ор╡Нр┤кр┤В","р┤╡р╡Жр┤│р╡Нр┤│р┤кр╡Нр┤кр╡Кр┤Хр╡Нр┤Хр┤В","р┤др╡А","р┤Ър╡Бр┤┤р┤▓р┤┐р┤Хр╡Нр┤Хр┤╛р┤▒р╡Нр┤▒р╡Н","р┤╡р┤░р╡╛р┤Ър╡Нр┤Ъ","р┤нр╡Вр┤╕р╡Нр┤▓р╡Ир┤бр╡Н","р┤╡р┤╛р┤╣р┤и р┤Ер┤кр┤Хр┤Яр┤В","р┤╡р╡Нр┤пр┤╡р┤╕р┤╛р┤п р┤Ер┤кр┤Хр┤Яр┤В","р┤ор┤▒р╡Нр┤▒р╡Н"],date:"р┤╕р┤Вр┤нр┤╡ р┤др╡Ар┤пр┤др┤┐",time:"р┤╕р┤Вр┤нр┤╡ р┤╕р┤ор┤пр┤В",map:"р┤╕р╡Нр┤ер┤▓р┤В р┤др┤┐р┤░р┤Юр╡Нр┤Юр╡Жр┤Яр╡Бр┤Хр╡Нр┤Хр╡Бр┤Х",uploadPhoto:"р┤лр╡Лр┤Яр╡Нр┤Яр╡Л р┤Ер┤кр╡НтАМр┤▓р╡Лр┤бр╡Н",uploadVideo:"р┤╡р╡Ар┤бр┤┐р┤пр╡Л р┤Ер┤кр╡НтАМр┤▓р╡Лр┤бр╡Н",submit:"р┤╕р┤ор╡╝р┤кр╡Нр┤кр┤┐р┤Хр╡Нр┤Хр╡Бр┤Х",member:"р┤ир┤┐р┤Щр╡Нр┤Щр┤│р╡Бр┤Яр╡Ж р┤╡р┤┐р┤╡р┤░р┤Щр╡Нр┤Щр╡╛ р┤ир╡╜р┤Хр╡Бр┤Х, р┤Ер┤Вр┤Чр┤ор┤╛р┤Хр╡В",login:"р┤▓р╡Лр┤Чр┤┐р╡╗",benefitsTitle:"р┤Ер┤Вр┤Чр┤др╡Нр┤╡ р┤Чр╡Бр┤гр┤Щр╡Нр┤Щр╡╛",benefits:["р┤▒р┤┐р┤кр╡Нр┤кр╡Лр╡╝р┤Яр╡Нр┤Яр╡Н р┤Яр╡Нр┤░р┤╛р┤Хр╡Нр┤Хр┤┐р┤Вр┤Чр╡Н","р┤╕р╡Бр┤░р┤Хр╡Нр┤╖ р┤Ер┤▓р╡╝р┤Яр╡Нр┤Яр╡Н","р┤╡р╡Зр┤Чр┤др╡Нр┤др┤┐р┤▓р╡Бр┤│р╡Нр┤│ р┤кр╡Нр┤░р┤др┤┐р┤Хр┤░р┤гр┤В","р┤╕р╡Нр┤╡р┤пр┤Вр┤╕р╡Зр┤╡р┤ир┤В","р┤Чр╡Лр┤кр╡Нр┤п р┤▒р┤┐р┤кр╡Нр┤кр╡Лр╡╝р┤Яр╡Нр┤Яр╡Н"]},
  pa:{tagline:"ри╕рйБри░рй▒риЦри┐риЖ риЕридрйЗ ринри╛риИриЪри╛ри░риХ ри░ри┐рикрйЛри░риЯри┐рй░риЧ",title:"риХрйА ри╣рйЛриЗриЖ? риШриЯриири╛ ри░ри┐рикрйЛри░риЯ риХри░рйЛ",subtitle:"ри╕рин ри░ри┐рикрйЛри░риЯри╛риВ риЧрйЛрикриирйАриЕрид ри╣рииред",nav:["ри░ри┐рикрйЛри░риЯ","ри╣рйЛрио","рикрйНри░рйЛрилри╛риИри▓","ри╕рйИриЯри┐рй░риЧри╛риВ","риириХри╕ри╝ри╛","ри╡ри┐ри╕ри╝ри▓рйЗри╕ри╝риг","ридрйБри╣ри╛рибрйА ри╕рйБри░рй▒риЦри┐риЖ","риЖрио риЬри╛ригриХри╛ри░рйА","риорижриж риХри░риирйА ри╣рйИ?","ринри╛риИриЪри╛ри░риХ риЬри╡ри╛рим","ри╕рйЗри╡ри╛ри╡ри╛риВ","риШриЯриири╛ри╡ри╛риВ"],desc:"риШриЯриири╛ рижри╛ ри╡рйЗри░ри╡ри╛",type:"риШриЯриири╛ рижрйА риХри┐ри╕рио",types:["ринрйВриЪри╛ри▓","ри╣рйЬрйНри╣","риЕрй▒риЧ","риЪрй▒риХри░ри╡ри╛рид","ри╕рйБрй▒риХри╛","ринрйВри╕риЦри▓рии","ри╡ри╛ри╣рии ри╣ри╛рижри╕ри╛","риЙркжрлНркпрлЛркЧри┐риХ ри╣ри╛рижри╕ри╛","ри╣рйЛри░"],date:"риШриЯриири╛ рижрйА ридри╛ри░рйАриЦ",time:"риШриЯриири╛ рижри╛ ри╕риори╛риВ",map:"ри╕риери╛рии риЪрйБригрйЛ",uploadPhoto:"рилрйЛриЯрйЛ риЕрикри▓рйЛриб риХри░рйЛ",uploadVideo:"ри╡рйАрибрйАриУ риЕрикри▓рйЛриб риХри░рйЛ",submit:"ри░ри┐рикрйЛри░риЯ ринрйЗриЬрйЛ",member:"риЖрикригрйА рикриЫри╛риг рижри┐риУ, риорйИриВримри░ римригрйЛ",login:"ри▓ри╛риЧриЗрии",benefitsTitle:"риорйИриВримри░ римригрии рижрйЗ рилри╛риЗрижрйЗ",benefits:["ри░ри┐рикрйЛри░риЯ риЯрйНри░рйИриХри┐рй░риЧ","ри╕рйБри░рй▒риЦри┐риЖ ри╕рйВриЪриири╛","ридрйЗриЬри╝ риЬри╡ри╛рим","ри╕ри╡рйИриЫри┐риХ ри╕рйЗри╡ри╛","риЧрйБрикрид ри░ри┐рикрйЛри░риЯ"]},
  as:{tagline:"рж╕рзБрз░ржХрзНрж╖рж╛ ржЖрз░рзБ рж╕ржорж╛ржЬржнрж┐рждрзНрждрж┐ржХ рз░рж┐ржкрзЛрз░рзНржЯрж┐ржВ",title:"ржХрж┐ ржШржЯрж┐рж▓? ржШржЯржирж╛ рз░рж┐ржкрзЛрз░рзНржЯ ржХрз░ржХ",subtitle:"рж╕ржХрж▓рзЛ рз░рж┐ржкрзЛрз░рзНржЯ ржЧрзЛржкржирзАржпрж╝ред",nav:["рз░рж┐ржкрзЛрз░рзНржЯ","рж╣рзЛржо","ржкрзНрз░'ржлрж╛ржЗрж▓","ржЫрзЗржЯрж┐ржВржЫ","ржорж╛ржиржЪрж┐рждрзНрз░","ржмрж┐рж╢рзНрж▓рзЗрж╖ржг","ржЖржкрзЛржирж╛рз░ рж╕рзБрз░ржХрзНрж╖рж╛","рж╕рж╛ржзрж╛рз░ржг рждржерзНржп","рж╕рж╣рж╛ржпрж╝ ржХрз░рж┐ржмржирзЗ?","рж╕ржорж╛ржЬ рж╕ржБрж╣рж╛рз░рж┐","рж╕рзЗрз▒рж╛рж╕ржорзВрж╣","ржШржЯржирж╛"],desc:"ржШржЯржирж╛рз░ ржмрж┐рз▒рз░ржг",type:"ржШржЯржирж╛рз░ ржкрзНрз░ржХрж╛рз░",types:["ржнрзВржорж┐ржХржорзНржк","ржмрж╛ржи","ржЕржЧрзНржирж┐ржХрж╛ржгрзНржб","ржШрзВрз░рзНржгрж┐ржЭржбрж╝","ржЦрз░рж╛ржВ","ржнрзВрж╕рзНржЦрж▓ржи","ржмрж╛рж╣ржи ржжрзБрз░рзНржШржЯржирж╛","ржЙржжрзНржпрзЛржЧ ржжрзБрз░рзНржШржЯржирж╛","ржЕржирзНржпрж╛ржирзНржп"],date:"ржШржЯржирж╛рз░ рждрж╛рз░рж┐ржЦ",time:"ржШржЯржирж╛рз░ рж╕ржоржпрж╝",map:"рж╕рзНржерж╛ржи ржмрж╛ржЫржирж┐ ржХрз░ржХ",uploadPhoto:"ржлржЯрзЛ ржЖржкрж▓рзЛржб ржХрз░ржХ",uploadVideo:"ржнрж┐ржбрж┐ржЕ' ржЖржкрж▓рзЛржб ржХрз░ржХ",submit:"рз░рж┐ржкрзЛрз░рзНржЯ ржжрж╛ржЦрж┐рж▓ ржХрз░ржХ",member:"ржЖржкрзЛржирж╛рз░ ржкрз░рж┐ржЪржпрж╝ ржжрж┐ржпрж╝ржХ, рж╕ржжрж╕рзНржп рж╣ржУржХ",login:"рж▓ржЧржЗржи",benefitsTitle:"рж╕ржжрж╕рзНржпрждрж╛рз░ рж╕рзБржмрж┐ржзрж╛",benefits:["рз░рж┐ржкрзЛрз░рзНржЯ ржЯрзНрз░рзЗржХ ржХрз░ржХ","рж╕рзБрз░ржХрзНрж╖рж╛ рж╕рждрз░рзНржХрждрж╛","ржжрзНрз░рзБржд ржкрзНрз░рждрж┐ржХрзНрз░рж┐ржпрж╝рж╛","рж╕рзНржмрзЗржЪрзНржЫрж╛рж╕рзЗрз▒рж╛","ржЧрзЛржкржи рз░рж┐ржкрзЛрз░рзНржЯ"]}
};
</script>

<script>
let selectedLat = null;
let selectedLng = null;
let selectedAddress = "";
</script>
-->

<script>
window.addEventListener("load", () => {
  const map = L.map("map").setView([19.076,72.8777],10);

  L.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{
    maxZoom:19
  }).addTo(map);

  let marker=null;
  map.on("click", async e => {
  if(marker) map.removeLayer(marker);
  marker = L.marker(e.latlng).addTo(map);

  
  selectedLat = e.latlng.lat;
  selectedLng = e.latlng.lng;

  const r = await fetch(
    `https://nominatim.openstreetmap.org/reverse?format=jsonv2&lat=${e.latlng.lat}&lon=${e.latlng.lng}`
  );
  const d = await r.json();

  
  selectedAddress = d.display_name || "";

  document.getElementById("addressText").innerText =
    selectedAddress || "Address not found";
});


  setTimeout(()=>map.invalidateSize(),400);
});

</script>

<!-- ===== CHATBOT WIDGET ===== -->
<div id="chatbot">
  <div id="chatbot-header">
    <span>SafeNet Assistant</span>
    <button onclick="toggleChat()">тЬХ</button>
  </div>

  <div id="chatbot-messages"></div>

  <div id="chatbot-input">
    <input id="chatInput" type="text" placeholder="Ask me anything..." />
    <button onclick="sendMessage()">тЮд</button>
  </div>
</div>

<div id="chatbot-fab" onclick="toggleChat()">
  Ask Me Anything!!!
</div>


<script>
/* ===== CHATBOT CORE ===== */

function toggleChat(){
  const chat = document.getElementById("chatbot");
  chat.style.display = chat.style.display === "flex" ? "none" : "flex";
}

function sendMessage(){
  const input = document.getElementById("chatInput");
  const msg = input.value.trim();
  if(!msg) return;

  addMessage(msg,"user");
  input.value = "";

  simulateThinking();

  setTimeout(()=>{
    removeThinking();
    addMessage(generateAIReply(msg),"bot");
  }, 900 + Math.random()*1200);
}

function addMessage(text,type){
  const box = document.getElementById("chatbot-messages");
  const div = document.createElement("div");
  div.className = "msg " + type;
  div.innerText = text;
  box.appendChild(div);
  box.scrollTop = box.scrollHeight;
}

function simulateThinking(){
  addMessage("ThinkingтАж","bot");
}

function removeThinking(){
  const box = document.getElementById("chatbot-messages");
  const bots = box.querySelectorAll(".bot");
  if(bots.length) bots[bots.length-1].remove();
}

/* ===== SIMULATED AI BRAIN ===== */
function generateAIReply(input){
  const msg = input.toLowerCase();

  // greetings
  if(/hi|hello|hey|namaste|hola/.test(msg))
    return random([
      "Hello! How can I help you today?",
      "Hi there ЁЯСЛ What would you like to know?",
      "Namaste ЁЯЩП I'm here to help."
    ]);

  // safety / incident
  if(msg.includes("incident") || msg.includes("report"))
    return random([
      "You can report an incident by filling the form on this page.",
      "Just describe what happened, choose the location, and submit.",
      "Incident reporting helps authorities respond faster."
    ]);

  // map
  if(msg.includes("map") || msg.includes("location"))
    return random([
      "Click anywhere on the map to mark the incident location.",
      "You can zoom and select the exact location on the map.",
      "The address will appear once you select a point."
    ]);

  // anonymity
  if(msg.includes("anonymous") || msg.includes("privacy"))
    return random([
      "Yes, you can report incidents anonymously.",
      "Your privacy is respected. Personal details are optional.",
      "Anonymous reporting is supported."
    ]);

  // language
  if(msg.includes("language"))
    return random([
      "You can choose your preferred language on the first page.",
      "Language selection helps us show content in your language.",
      "Multiple Indian languages are supported."
    ]);

  // time / date
  if(msg.includes("date") || msg.includes("time"))
    return random([
      "Select the date and approximate time when the incident occurred.",
      "You can choose hour, minute, and AM/PM.",
      "Providing accurate time helps faster verification."
    ]);

  // general questions
  if(msg.includes("why") || msg.includes("how") || msg.includes("what"))
    return random([
      "ThatтАЩs a good question. Could you give a bit more detail?",
      "HereтАЩs what I can tell you about that.",
      "Let me explain that in simple terms."
    ]);

  // fallback (AI-like)
  return random([
    "I understand your question. Let me help you with that.",
    "ThatтАЩs interesting. HereтАЩs what you should know.",
    "IтАЩm here to assist you. Could you clarify a bit more?",
    "Thanks for asking. IтАЩll try to guide you correctly."
  ]);
}

/* ===== UTIL ===== */
function random(arr){
  return arr[Math.floor(Math.random()*arr.length)];
}

/* Enter key support */
document.getElementById("chatInput")?.addEventListener("keydown",e=>{
  if(e.key==="Enter") sendMessage();
});
</script>




<!--===== FIREBASE REPORT SUBMISSION ===== 

<script type="module">
/* ================= FIREBASE IMPORTS ================= */
import { auth, db } from "./firebase/firebase.js";
import { signInAnonymously } from "https://www.gstatic.com/firebasejs/12.7.0/firebase-auth.js";
import {
  collection,
  addDoc,
  serverTimestamp,
  doc,
  getDoc
} from "https://www.gstatic.com/firebasejs/12.7.0/firebase-firestore.js";

import {
  getStorage,
  ref,
  uploadBytes,
  getDownloadURL
} from "https://www.gstatic.com/firebasejs/12.7.0/firebase-storage.js";

/* ================= STORAGE ================= */
const storage = getStorage();

/* ================= SUBMIT REPORT ================= */
document.getElementById("submitReportBtn").addEventListener("click", async () => {
  try {
    /* ---------- VALIDATION ---------- */
    if (
      !desc.value.trim() ||
      !incidentType.value ||
      !incidentDate.value ||
      selectedLat === null
    ) {
      alert("Please fill all required fields and select location.");
      return;
    }

    /* ---------- AUTH ---------- */
    let user = auth.currentUser;
    let isAnonymous = true;
    let userRole = "guest";

    if (!user) {
      const res = await signInAnonymously(auth);
      user = res.user;
    } else {
      isAnonymous = user.isAnonymous;
    }

    /* ---------- FETCH ROLE ---------- */
    if (!isAnonymous) {
      const snap = await getDoc(doc(db, "users", user.uid));
      if (snap.exists()) {
        userRole = snap.data().role || "citizen";
      }
    }

    /* ---------- FILE UPLOADS ---------- */
    const photoFile = document.getElementById("photoInput")?.files[0] || null;
    const videoFile = document.getElementById("videoInput")?.files[0] || null;

    let photoURL = null;
    let videoURL = null;

    if (photoFile) {
      const photoRef = ref(
        storage,
        `reports/${user.uid}/photo_${Date.now()}_${photoFile.name}`
      );
      await uploadBytes(photoRef, photoFile);
      photoURL = await getDownloadURL(photoRef);
    }

    if (videoFile) {
      const videoRef = ref(
        storage,
        `reports/${user.uid}/video_${Date.now()}_${videoFile.name}`
      );
      await uploadBytes(videoRef, videoFile);
      videoURL = await getDownloadURL(videoRef);
    }

    /* ---------- SAVE REPORT ---------- */
    await addDoc(collection(db, "incidents"), {
  description: desc.value.trim(),
  type: incidentType.value,
  date: incidentDate.value,
  time: `${hour.value}:${minute.value} ${ampm.value}`,
  severity: severity.value,

  location: {
    lat: selectedLat,
    lng: selectedLng,
    address: selectedAddress
  },

  media: {
    photo: photoURL,
    video: videoURL
  },

  status: "reported",

  userId: user.uid,
  isAnonymous,
  userRole,

  createdAt: serverTimestamp()
});


    alert("тЬЕ Report submitted successfully!");

  } catch (err) {
    console.error("REPORT ERROR:", err);
    alert("тЭМ Failed to submit report. Check console.");
  }
});
</script>

<!-- ===== DYNAMIC NAVIGATION ===== 

<script type="module">
import { watchAuth } from "./firebase/authState.js";
import { db } from "./firebase/firebase.js";
import { doc, getDoc } from "https://www.gstatic.com/firebasejs/12.7.0/firebase-firestore.js";

const ALL_LINKS = [
  "nav-home",
  "nav-report",
  "nav-profile",
  "nav-settings",
  "nav-analytics",
  "nav-safety",
  "nav-help",
  "nav-community",
  "nav-services",
  "nav-incidents"
];

function hideAll() {
  ALL_LINKS.forEach(id => {
    const el = document.getElementById(id);
    if (el) el.style.display = "none";
  });

  document.getElementById("auth-login")?.style.setProperty("display", "none");
  document.getElementById("auth-signup")?.style.setProperty("display", "none");
}

function show(ids) {
  ids.forEach(id => {
    const el = document.getElementById(id);
    if (el) el.style.display = "inline-block";
  });
}

watchAuth(async (user) => {
  hideAll();

  const nav = document.querySelector("nav");

  // ЁЯЪк GUEST / ANONYMOUS
  if (!user.loggedIn || user.isAnonymous) {
    show(["nav-home", "nav-report"]);
    document.getElementById("auth-login")?.style.setProperty("display", "inline-block");
    document.getElementById("auth-signup")?.style.setProperty("display", "inline-block");
    nav.removeAttribute("data-auth");
    return;
  }

  // ЁЯФР LOGGED IN тЖТ FETCH ROLE
  const snap = await getDoc(doc(db, "users", user.uid));
  const role = snap.exists() ? snap.data().role : "citizen";

  // ЁЯСд NORMAL CITIZEN (NO SERVICES)
  if (role === "citizen") {
    show([
      "nav-home",
      "nav-report",
      "nav-profile",
      "nav-settings",
      "nav-analytics",
      "nav-safety",
      "nav-help",
      "nav-community",
      "nav-incidents"
    ]);
    nav.removeAttribute("data-auth");
    return;
  }

  // ЁЯПе NGO / HOSPITAL / RESPONDER тЖТ ALL ACCESS
  show(ALL_LINKS);
  nav.removeAttribute("data-auth");
});
</script> -->


</body>
</html>



