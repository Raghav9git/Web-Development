<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Want To Help? | SafeNet</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<link rel="icon" href="favicon.png">
<meta name="theme-color" content="#0b2a4a">

<link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"/>

<style>
*{margin:0;padding:0;box-sizing:border-box;font-family:"Segoe UI",sans-serif}
body{
  background:
    radial-gradient(circle at 20% 20%, #2b1b5a 0%, transparent 40%),
    radial-gradient(circle at 80% 10%, #3b1d6b 0%, transparent 45%),
    linear-gradient(180deg, #060814, #0b1020 60%, #05060f);
  color:#fff;
  min-height:100vh;
  padding-top:90px;
}

/* NAVBAR */
.navbar{
  position:fixed;top:0;width:100%;
  padding:14px 24px;
  background:rgba(11,11,20,.35);
  backdrop-filter:blur(10px);
  z-index:2000;display:flex;gap:20px;
}
.navbar a{color:#fff;text-decoration:none;position:relative}
.navbar a::after{
  content:"";position:absolute;left:0;bottom:-4px;
  width:0;height:2px;
  background:linear-gradient(90deg,#ff4ecd,#9f6bff);
  transition:.3s
}
.navbar a:hover::after{width:100%}

/* CONTENT */
main{padding:40px 6% 80px}
h1{font-size:2rem;margin-bottom:8px}
.subtitle{opacity:.85;margin-bottom:18px}

/* FILTERS */
.filters{
  display:flex;gap:14px;flex-wrap:wrap;
  margin-bottom:14px;
}
.filters label{
  background:rgba(255,255,255,.08);
  padding:8px 14px;
  border-radius:20px;
  cursor:pointer;
  font-size:.9rem;
}
.filters input{margin-right:6px}

/* MAP */
#map{
  height:430px;
  border-radius:16px;
  border:1px solid rgba(255,255,255,.12);
  margin-bottom:20px;
  position:relative;
}

/* LEGEND */
.legend{
  position:absolute;
  bottom:16px;
  right:16px;
  background:rgba(0,0,0,.65);
  backdrop-filter:blur(6px);
  padding:12px 14px;
  border-radius:12px;
  font-size:.85rem;
  z-index:1000;
}
.legend div{
  display:flex;
  align-items:center;
  gap:8px;
  margin:4px 0;
}
.legend img{
  width:18px;
  height:18px;
}

/* DETAILS */
.details{
  display:none;
  background:rgba(255,255,255,.05);
  border:1px solid rgba(255,255,255,.12);
  border-radius:16px;
  padding:24px;
  animation:fadeUp .4s ease;
}
.details h2{margin-bottom:10px}
.details p{margin:6px 0;opacity:.9}
.label{opacity:.6;font-size:.85rem}

/* BUTTON */
.submit-wrap{text-align:center;margin-top:26px}
button{
  background:linear-gradient(90deg,#ff4ecd,#9f6bff);
  border:none;
  padding:14px 36px;
  border-radius:30px;
  color:#fff;
  font-size:1rem;
  cursor:pointer;
  transition:.3s;
}
button:hover{transform:scale(1.05);box-shadow:0 0 25px rgba(255,78,205,.5)}

/* MODAL */
.modal{
  position:fixed;inset:0;
  background:rgba(0,0,0,.7);
  display:none;
  align-items:center;
  justify-content:center;
  z-index:3000;
}
.modal-box{
  background:#0b1020;
  border-radius:16px;
  padding:24px;
  width:90%;max-width:420px;
}
.modal-box h3{margin-bottom:10px}
.modal-box label{display:block;margin:8px 0;font-size:.9rem}

@keyframes fadeUp{
  from{opacity:0;transform:translateY(20px)}
  to{opacity:1;transform:translateY(0)}
}
</style>
</head>

<body>

<div class="navbar">
  <a class="active" href="report.html">Report</a>
    <a href="home.html">Home</a>
    <a href="profile.html">Profile</a>
    <a href="settings.html">Settings</a>
    <a href="analytics.html">Analytics</a>
    <a href="your safety.html">Your Safety</a>
    <a href="want to help.html">Want To Help?</a>
    <a href="community response.html">Community Response</a>
    <a href="services.html">Services</a>
    <a href="view-incidents.html">View Incidents</a>
</div>

<main>
  <h1>Know where help is required</h1>
  <p class="subtitle">
    Non-emergency volunteer & NGO support locations coordinated safely.
  </p>

  <!-- FILTERS -->
  <div class="filters">
    <label><input type="checkbox" checked data-cat="Shelter">Shelters</label>
    <label><input type="checkbox" checked data-cat="Hospital">Hospitals</label>
    <label><input type="checkbox" checked data-cat="NGO">NGO Work</label>
    <label><input type="checkbox" checked data-cat="Food">Food / Relief</label>
  </div>

  <div id="map">
    <!-- LEGEND -->
    <div class="legend">
      <div><img src="https://cdn-icons-png.flaticon.com/512/684/684908.png"> Shelter Assistance</div>
      <div><img src="https://cdn-icons-png.flaticon.com/512/2967/2967350.png"> Hospital Support</div>
      <div><img src="https://cdn-icons-png.flaticon.com/512/942/942748.png"> NGO / Social Work</div>
      <div><img src="https://cdn-icons-png.flaticon.com/512/2917/2917990.png"> Food & Relief Distribution</div>
    </div>
  </div>

  <div class="details" id="details">
    <h2 id="type"></h2>
    <p><span class="label">Description:</span><br><span id="desc"></span></p>
    <p><span class="label">Help Required:</span><br><span id="help"></span></p>
    <p><span class="label">People Needed:</span><br><span id="people"></span></p>
    <p><span class="label">Preparation:</span><br><span id="prep"></span></p>
  </div>

  <div class="submit-wrap">
    <button onclick="openModal()">Confirm & Offer Help</button>
  </div>
</main>

<div class="modal" id="modal">
  <div class="modal-box">
    <h3>Volunteer Verification</h3>
    <label><input type="checkbox"> I am physically fit for this task</label>
    <label><input type="checkbox"> I understand this is non-emergency work</label>
    <label><input type="checkbox"> I agree to follow on-site instructions</label>
    <br>
    <button onclick="closeModal()">Submit Confirmation</button>
  </div>
</div>

<script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>

<script>
const map=L.map("map").setView([19.076,72.877],13);
L.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png").addTo(map);

const userLoc=[19.076,72.877];
L.marker(userLoc).addTo(map).bindPopup("You (Volunteer)").openPopup();

const icons={
  Shelter:"https://cdn-icons-png.flaticon.com/512/684/684908.png",
  Hospital:"https://cdn-icons-png.flaticon.com/512/2967/2967350.png",
  NGO:"https://cdn-icons-png.flaticon.com/512/942/942748.png",
  Food:"https://cdn-icons-png.flaticon.com/512/3075/3075977.png"
};
const mkIcon=u=>L.icon({iconUrl:u,iconSize:[28,28]});

const places=[
 {cat:"Shelter",type:"Relief Shelter",desc:"Temporary shelter support.",help:"Food & coordination",people:"10",prep:"Water bottles",lat:19.067,lng:72.873},
 {cat:"Hospital",type:"Hospital Desk Help",desc:"Patient guidance support.",help:"Queue management",people:"6",prep:"Mask & ID",lat:19.083,lng:72.885},
 {cat:"NGO",type:"NGO Packing Center",desc:"Relief kit packing.",help:"Packing & labeling",people:"12",prep:"Comfortable clothes",lat:19.072,lng:72.864},
 {cat:"Food",type:"Relief Food Distribution",desc:"Distribution of food & essentials.",help:"Crowd handling",people:"9",prep:"Water bottle",lat:19.070,lng:72.858}
];

let markers=[],route;

function render(){
  markers.forEach(m=>map.removeLayer(m));
  markers=[];
  document.querySelectorAll(".filters input").forEach(cb=>{
    if(!cb.checked)return;
    places.filter(p=>p.cat===cb.dataset.cat).forEach(p=>{
      const m=L.marker([p.lat,p.lng],{icon:mkIcon(icons[p.cat])})
        .addTo(map).bindPopup(p.type);
      m.on("click",()=>{
        details.style.display="block";
        type.innerText=p.type;
        desc.innerText=p.desc;
        help.innerText=p.help;
        people.innerText=p.people;
        prep.innerText=p.prep;
        if(route)map.removeLayer(route);
        route=L.polyline([userLoc,[p.lat,p.lng]],{
          color:"#ff4ecd",weight:4,dashArray:"6 6"
        }).addTo(map);
      });
      markers.push(m);
    });
  });
}
render();
document.querySelectorAll(".filters input").forEach(cb=>cb.onchange=render);

function openModal(){modal.style.display="flex"}
function closeModal(){modal.style.display="none";alert("Thank you for offering help!")}
</script>

</body>
</html>
